(window.webpackJsonp=window.webpackJsonp||[]).push([[345],{815:function(s,a,t){"use strict";t.r(a);var n=t(11),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"docker基础---仓库镜像容器详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker基础---仓库镜像容器详解"}},[s._v("¶")]),s._v(" Docker基础 - 仓库，镜像，容器详解")]),s._v(" "),t("blockquote",[t("p",[s._v("本文将从仓库，镜像，容器三个方面讲解常用的docker命令和使用等，对于开发而言这块使用的非常频繁，需要重点掌握。@pdai")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#docker%e5%9f%ba%e7%a1%80---%e4%bb%93%e5%ba%93%e9%95%9c%e5%83%8f%e5%ae%b9%e5%99%a8%e8%af%a6%e8%a7%a3"}},[s._v("Docker基础 - 仓库，镜像，容器详解")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%e4%bb%93%e5%ba%93%e9%95%9c%e5%83%8f%e5%ae%b9%e5%99%a8%e7%9a%84%e5%85%b3%e7%b3%bb"}},[s._v("仓库，镜像，容器的关系")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#docker-%e9%95%9c%e5%83%8f"}},[s._v("Docker 镜像")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%e9%95%9c%e5%83%8f%e5%88%97%e8%a1%a8"}},[s._v("镜像列表")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e6%9f%a5%e6%89%be%e9%95%9c%e5%83%8f"}},[s._v("查找镜像")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e6%8b%89%e5%8f%96%e9%95%9c%e5%83%8f"}},[s._v("拉取镜像")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%88%a0%e9%99%a4%e9%95%9c%e5%83%8f"}},[s._v("删除镜像")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e6%9b%b4%e6%96%b0%e9%95%9c%e5%83%8f"}},[s._v("更新镜像")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e7%94%9f%e6%88%90%e9%95%9c%e5%83%8f"}},[s._v("生成镜像")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e9%95%9c%e5%83%8f%e6%a0%87%e7%ad%be"}},[s._v("镜像标签")])])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#docker-%e5%ae%b9%e5%99%a8"}},[s._v("Docker 容器")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e5%90%af%e5%8a%a8"}},[s._v("容器启动")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e6%9f%a5%e7%9c%8b"}},[s._v("容器查看")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e5%86%8d%e5%90%af%e5%8a%a8"}},[s._v("容器再启动")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e5%81%9c%e6%ad%a2%e5%92%8c%e9%87%8d%e5%90%af"}},[s._v("容器停止和重启")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%90%8e%e5%8f%b0%e6%a8%a1%e5%bc%8f%e4%b8%8e%e8%bf%9b%e5%85%a5"}},[s._v("后台模式与进入")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e5%af%bc%e5%87%ba%e5%92%8c%e5%af%bc%e5%85%a5"}},[s._v("容器导出和导入")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%bc%ba%e5%88%b6%e5%81%9c%e6%ad%a2%e5%ae%b9%e5%99%a8"}},[s._v("强制停止容器")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e6%b8%85%e7%90%86%e5%81%9c%e6%ad%a2%e7%9a%84%e5%ae%b9%e5%99%a8"}},[s._v("清理停止的容器")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e5%88%ab%e5%90%8d%e5%8f%8a%e6%93%8d%e4%bd%9c"}},[s._v("容器别名及操作")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e5%ae%b9%e5%99%a8%e9%94%99%e8%af%af%e6%97%a5%e5%bf%97"}},[s._v("容器错误日志")])])])]),s._v(" "),t("li",[t("a",{attrs:{href:"#docker-%e4%bb%93%e5%ba%93"}},[s._v("Docker 仓库")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%e5%85%ac%e6%9c%89%e4%bb%93%e5%ba%93"}},[s._v("公有仓库")])]),s._v(" "),t("li",[t("a",{attrs:{href:"#%e7%a7%81%e6%9c%89%e4%bb%93%e5%ba%93"}},[s._v("私有仓库")])])])])])])]),s._v(" "),t("h2",{attrs:{id:"仓库镜像容器的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仓库镜像容器的关系"}},[s._v("¶")]),s._v(" 仓库，镜像，容器的关系")]),s._v(" "),t("blockquote",[t("p",[s._v("我们再回顾下仓库，镜像，容器的关系（这是官网的图）")])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/devops/docker/docker-architecture.svg",loading:"lazy"}})]),s._v(" "),t("h2",{attrs:{id:"docker-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像"}},[s._v("¶")]),s._v(" Docker 镜像")]),s._v(" "),t("p",[s._v("当运行容器时，使用的镜像如果在本地中不存在，docker 就会自动从 docker 镜像仓库中下载，默认是从 Docker Hub 公共镜像源下载。")]),s._v(" "),t("p",[s._v("下面我们来学\n1、管理和使用本地 Docker 主机镜像\n2、创建镜像")]),s._v(" "),t("h3",{attrs:{id:"镜像列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像列表"}},[s._v("¶")]),s._v(" 镜像列表")]),s._v(" "),t("p",[s._v("我们可以使用 docker images 来列出本地主机上的镜像")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\nhello-world         latest              fce289e99eb9        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".84kB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("各个选项说明:")]),s._v(" "),t("ul",[t("li",[s._v("REPOSITORY：表示镜像的仓库源")]),s._v(" "),t("li",[s._v("TAG：镜像的标签, 同一仓库源可以有多个 TAG，代表这个仓库源的不同个版本")]),s._v(" "),t("li",[s._v("IMAGE ID：镜像ID")]),s._v(" "),t("li",[s._v("CREATED：镜像创建时间")]),s._v(" "),t("li",[s._v("SIZE：镜像大小")])]),s._v(" "),t("h3",{attrs:{id:"查找镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找镜像"}},[s._v("¶")]),s._v(" 查找镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("以查找MySQL的镜像为例：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("通过Docker Hub 进行查找")]),s._v(", 比如"),t("a",{attrs:{href:"https://hub.docker.com/search?q=mysql&type=image",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://hub.docker.com/search?q=mysql&type=image"),t("OutboundLink")],1)])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/devops/docker/docker-y-1.png",loading:"lazy"}})]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("使用 docker search 命令来搜索镜像")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker search mysql")]),s._v("\nNAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nmysql                             MySQL is a widely used, open-source relation…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9132")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nmariadb                           MariaDB is a community-developed fork of MyS…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3233")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nmysql/mysql-server                Optimized MySQL Server Docker images. Create…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("676")]),s._v("                                     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncentos/mysql-57-centos7           MySQL "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" SQL database server                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v("\nmysql/mysql-cluster               Experimental MySQL Cluster Docker images. Cr…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("\ncenturylink/mysql                 Image containing mysql. Optimized to be link…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndeitch/mysql-backup               REPLACED"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Please use http://hub.docker.com/r…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nbitnami/mysql                     Bitnami MySQL Docker Image                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntutum/mysql                       Base docker image to run a MySQL database se…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("\nschickling/mysql-backup-s3        Backup MySQL to S3 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("supports periodic backup…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nprom/mysqld-exporter                                                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nlinuxserver/mysql                 A Mysql container, brought to you by LinuxSe…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\ncentos/mysql-56-centos7           MySQL "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(" SQL database server                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\ncircleci/mysql                    MySQL is a widely used, open-source relation…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("\nmysql/mysql-router                MySQL Router provides transparent routing be…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("\narey/mysql-client                 Run a MySQL client from a docker container      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("                                      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndataback/mysql-backup             Back up mysql databases to"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". anywhere"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nopenshift/mysql-55-centos7        DEPRECATED: A Centos7 based MySQL v5.5 image…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nfradelg/mysql-cron-backup         MySQL/MariaDB database backup using "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cron")]),s._v(" tas…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("                                       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ngenschsa/mysql-employees          MySQL Employee Sample Database                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("                                       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndevilbox/mysql                    Retagged MySQL, MariaDB and PerconaDB offici…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nansibleplaybookbundle/mysql-apb   An APB "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" deploys RHSCL MySQL                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                                       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\njelastic/mysql                    An image of the MySQL database server mainta…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nmonasca/mysql-init                A minimal decoupled init container "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" mysql    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nwiddpim/mysql-client              Dockerized MySQL Client "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" including Curl…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                                       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("ul",[t("li",[s._v("NAME: 镜像仓库源的名称")]),s._v(" "),t("li",[s._v("DESCRIPTION: 镜像的描述")]),s._v(" "),t("li",[s._v("OFFICIAL: 是否 docker 官方发布")]),s._v(" "),t("li",[s._v("STARS: 类似 Github 里面的 star，表示点赞、喜欢的意思。")]),s._v(" "),t("li",[s._v("AUTOMATED: 自动构建。")])]),s._v(" "),t("h3",{attrs:{id:"拉取镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像"}},[s._v("¶")]),s._v(" 拉取镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("现在拉取搜索出的MySQL")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull mysql")]),s._v("\nUsing default tag: latest\nlatest: Pulling from library/mysql\n619014d83c02: Pull complete\n9ced578c3a5f: Pull complete\n731f6e13d8ea: Pull complete\n3c183de42679: Pull complete\n6de69b5c2f3c: Pull complete\n00f0a4086406: Pull complete\n84d93aea836d: Pull complete\nf18efbfd8d76: Pull complete\n012b302865d1: Pull complete\nfe16fd240f59: Pull complete\nca3e793e545e: Pull complete\n51d0f2cb2610: Pull complete\nDigest: sha256:6d0741319b6a2ae22c384a97f4bbee411b01e75f6284af0cce339fee83d7e314\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" mysql:latest\ndocker.io/library/mysql:latest\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\nhello-world         latest              fce289e99eb9        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".84kB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"删除镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[s._v("¶")]),s._v(" 删除镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("是时候删除那个无聊的hello-world镜像了")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rmi hello-world")]),s._v("\nError response from daemon: conflict: unable to remove repository reference "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello-world"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("must force"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" - container c91b90b18884 is using its referenced image fce289e99eb9\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("发现报错了，这时候主要看两点：要么就是container实例存在，要么存在镜像依赖；")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES\n1a51d2f023c9        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         affectionate_knuth\nc91b90b18884        hello-world         "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/hello"')]),s._v("                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" hours ago                         admiring_pare\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker image inspect --format='{{.RepoTags}} {{.Id}} {{.Parent}}' $(docker image ls -q )")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql:latest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sha256:791b6e40940cd550af522eb4ffe995226798204504fe495743445b900e417a51\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ubuntu:latest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sha256:ccc6e87d482b79dd1645affd958479139486e47191dfe7a997c862d89cd8b4c0\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("hello-world:latest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("显然，我们只要删除container即可：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm c91b90b18884")]),s._v("\nc91b90b18884\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES\n1a51d2f023c9        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago         Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" hours ago                         affectionate_knuth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("最后再来删除镜像吧")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rmi hello-world")]),s._v("\nUntagged: hello-world:latest\nUntagged: hello-world@sha256:9572f7cdcee8591948c2963463447a53466950b3fc15a247fcad1917ca215a2f\nDeleted: sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e\nDeleted: sha256:af0b15c8625bb1938f1d7b17081031f649fd14e6b233688eea3c5483994a66a3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"更新镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新镜像"}},[s._v("¶")]),s._v(" 更新镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("针对上述ubuntu的镜像，我们能否在里面安装一些软件，然后重新生成一个镜像呢？这就是更新重新commit出一个新的镜像。")])]),s._v(" "),t("p",[s._v("我们先跑一个ubuntu容器实例，同时在里面进行"),t("code",[s._v("apt-get update")]),s._v("更新")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it ubuntu:latest")]),s._v("\nroot@0a1556ca3c27:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# apt-get update")]),s._v("\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("242")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88.7")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:4 http://archive.ubuntu.com/ubuntu bionic-backports InRelease "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.6")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("817")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:6 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1344")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:7 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("186")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:8 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.5")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:9 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.3")]),s._v(" MB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:10 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.5")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:11 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7064")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:12 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("818")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.1")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1345")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41.2")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1104")]),s._v(" kB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4252")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2496")]),s._v(" B"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nFetched "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17.6")]),s._v(" MB "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 10s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1759")]),s._v(" kB/s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nReading package lists"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\nroot@0a1556ca3c27:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br")])]),t("p",[s._v("此时 ID 为 0a1556ca3c27 的容器，是按我们的需求更改的容器。我们可以通过命令 docker commit 来提交容器副本：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# docker commit -m="update test" -a="pdai" 0a1556ca3c27  pdai/ubuntu:v1.0.1')]),s._v("\nsha256:b51e9f5f98cdb5b95c34181148ed7029f0150618aa8cd0e916b10b6aea1bd4c9\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("可以看到已经生成成功, 且镜像的大小不一样了：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v1.0.1              b51e9f5f98cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" seconds ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".1MB\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"生成镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成镜像"}},[s._v("¶")]),s._v(" 生成镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("那如果是生成一个全新的镜像呢？我们使用命令 docker build ，通过创建一个 Dockerfile 文件，其中包含一组指令来告诉 Docker 如何构建我们的镜像。")])]),s._v(" "),t("p",[s._v("这里特意指定的Base镜像为上一步修改生成的"),t("code",[s._v("pdai/ubuntu:v1.0.1")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("FROM    pdai/ubuntu:v1.0.1\nMAINTAINER      pdai "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"www.pdai.tech"')]),s._v("\n\nRUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd\nRUN     "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" pdai\nRUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pdai:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd\nRUN     /bin/echo -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LANG='),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("en_US.UTF-8"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/etc/default/local\nEXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\nEXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nCMD     /usr/sbin/sshd -D\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("strong",[s._v("稍微解释下")]),s._v("：这一部分在开发中会用到比较多，所以单独一个章节详解："),t("RouterLink",{attrs:{to:"/md/devops/docker/docker-04-dockerfile.html"}},[s._v("Docker基础 - dockerfile详解")])],1),s._v(" "),t("ul",[t("li",[s._v("每一个指令都会在镜像上创建一个新的层，每一个指令的前缀都必须是大写的。")]),s._v(" "),t("li",[s._v("第一条FROM，指定使用哪个镜像源")]),s._v(" "),t("li",[s._v("RUN 指令告诉docker 在镜像内执行命令，安装了什么。。。")]),s._v(" "),t("li",[s._v("我们使用 Dockerfile 文件，通过 docker build 命令来构建一个镜像。")])]),s._v(" "),t("p",[s._v("接下来生成镜像：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai docker-test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker build -t pdai/ubuntu:v2.0.1 .")]),s._v("\nSending build context to Docker daemon  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".048kB\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" FROM    pdai/ubuntu:v1.0.1\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" b51e9f5f98cd\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" MAINTAINER      pdai "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"www.pdai.tech"')]),s._v("\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" af026ee229ea\nRemoving intermediate container af026ee229ea\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 0e961cb557c9\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" RUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 96bd9c40c55e\nRemoving intermediate container 96bd9c40c55e\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 9e8549720043\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" RUN     "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" pdai\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 0117278f243c\nRemoving intermediate container 0117278f243c\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 87c478df56da\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" RUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pdai:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" e0381eabe71a\nRemoving intermediate container e0381eabe71a\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 84fd07f978ae\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" RUN     /bin/echo -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LANG='),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("en_US.UTF-8"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/etc/default/local\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 8d0052d9921f\nRemoving intermediate container 8d0052d9921f\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 3ed0b248224c\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" EXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 4b5d540567cd\nRemoving intermediate container 4b5d540567cd\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" c0a72ad140dd\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" EXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" c9620707d038\nRemoving intermediate container c9620707d038\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" df42b714ecc1\nStep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("/9 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" CMD     /usr/sbin/sshd -D\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Running "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" e178826b43fe\nRemoving intermediate container e178826b43fe\n ---"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" a733d5a264b5\nSuccessfully built a733d5a264b5\nSuccessfully tagged pdai/ubuntu:v2.0.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("p",[s._v("参数说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-t")]),s._v(" ：指定要创建的目标镜像名")]),s._v(" "),t("li",[t("code",[s._v(".")]),s._v(" ：Dockerfile 文件所在目录，可以指定Dockerfile 的绝对路径")])]),s._v(" "),t("p",[s._v("使用docker images 查看创建的镜像已经在列表中存在,镜像ID为a733d5a264b5")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai docker-test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.1              a733d5a264b5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" minutes ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" hours ago        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".1MB\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("我们可以使用新的镜像来创建容器")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai docker-test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it pdai/ubuntu:v2.0.1 /bin/bash")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# id pdai")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("从上面看到新镜像已经包含我们创建的用户 pdai。")]),s._v(" "),t("h3",{attrs:{id:"镜像标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像标签"}},[s._v("¶")]),s._v(" 镜像标签")]),s._v(" "),t("blockquote",[t("p",[s._v("设置镜像的Tag，类似于Git中tag？我们可以使用 docker tag 命令，为镜像添加一个新的标签")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag a733d5a264b5 pdai/ubuntu:v3.0.1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.1              a733d5a264b5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" minutes ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v3.0.1              a733d5a264b5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" minutes ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" hours ago        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".1MB\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("注意：")]),s._v(" "),t("ul",[t("li",[s._v("docker tag 镜像ID，这里是 a733d5a264b5 ,用户名称、镜像源名(repository name)和新的标签名(tag)。")]),s._v(" "),t("li",[s._v("使用 docker images 命令可以看到，ID为a733d5a264b5的镜像多一个v3.0.1标签。")])]),s._v(" "),t("h3",{attrs:{id:"镜像导出和导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像导出和导入"}},[s._v("¶")]),s._v(" 镜像导出和导入")]),s._v(" "),t("blockquote",[t("p",[s._v("区别于容器的导出和导入")])]),s._v(" "),t("ul",[t("li",[s._v("镜像导出")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\ndockREPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu                  v2.0.2              57544a04cd1a        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v(".5MB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker save > pdai-ubuntu-v2.0.2.tar 57544a04cd1a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll | grep pdai-u")]),s._v("\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93898240")]),s._v(" Jun  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" 09:06 pdai-ubuntu-v2.0.2.tar\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ul",[t("li",[s._v("镜像导入")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker load "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" pdai-ubuntu-v2.0.2.tar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中"),t("code",[s._v("-i")]),s._v("或者"),t("code",[s._v("<")]),s._v("表示从文件输入。会成功导入镜像及相关元数据，包括tag信息")]),s._v(" "),t("blockquote",[t("p",[s._v("可以依据具体使用场景来选择命令")])]),s._v(" "),t("ul",[t("li",[s._v("若是只想备份images，使用save、load即可")]),s._v(" "),t("li",[s._v("若是在启动容器后，容器内容有变化，需要备份，则使用export、import")])]),s._v(" "),t("h2",{attrs:{id:"docker-容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-容器"}},[s._v("¶")]),s._v(" Docker 容器")]),s._v(" "),t("blockquote",[t("p",[s._v("上面已经展示了部分容器的使用命令了，这里会在此基础上进行拓展")])]),s._v(" "),t("h3",{attrs:{id:"容器启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器启动"}},[s._v("¶")]),s._v(" 容器启动")]),s._v(" "),t("p",[s._v("首先我们是可以这样启动容器的：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai docker-test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it pdai/ubuntu:v2.0.1 /bin/bash")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# id pdai")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pdai"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("-it")]),s._v(" 可以连写的，表示 "),t("code",[s._v("-i -t")])]),s._v(" "),t("li",[t("code",[s._v("-t")]),s._v(": 在新容器内指定一个伪终端或终端。")]),s._v(" "),t("li",[t("code",[s._v("-i")]),s._v(": 允许你对容器内的标准输入 (STDIN) 进行交互")])]),s._v(" "),t("h3",{attrs:{id:"容器查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器查看"}},[s._v("¶")]),s._v(" 容器查看")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-a")]),s._v(" 表示 all，所有的")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" minutes ago      Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" minutes ago                       jolly_kepler\n0a1556ca3c27        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                         affectionate_knuth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"容器再启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器再启动"}},[s._v("¶")]),s._v(" 容器再启动")]),s._v(" "),t("blockquote",[t("p",[s._v("我们看到，刚才"),t("code",[s._v("pdai/ubuntu:v2.0.1")]),s._v("的实例"),t("code",[s._v("f5332ebce695")]),s._v("已经停止了"),t("code",[s._v("Exited (0) 20 minutes ago")]),s._v("，我们能否再启这个实例？")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker start f5332ebce695")]),s._v("\nf5332ebce695\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" seconds        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"容器停止和重启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器停止和重启"}},[s._v("¶")]),s._v(" 容器停止和重启")]),s._v(" "),t("blockquote",[t("p",[s._v("我们将上述容器停止，再重启")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker stop f5332ebce695")]),s._v("\nf5332ebce695\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker restart f5332ebce695")]),s._v("\nf5332ebce695\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE                COMMAND                  CREATED             STATUS                      PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" seconds                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n0a1556ca3c27        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         affectionate_knuth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"后台模式与进入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台模式与进入"}},[s._v("¶")]),s._v(" 后台模式与进入")]),s._v(" "),t("blockquote",[t("p",[s._v("在使用 -d 参数时，容器启动后会进入后台, 如何进入容器呢？")])]),s._v(" "),t("ul",[t("li",[s._v("第一种："),t("code",[s._v("docker attach")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" seconds        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker attach f5332ebce695")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'pdai'")]),s._v("\npdai\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("看到没，使用"),t("code",[s._v("docker attach")]),s._v("进入后，exit便容器也停止了。")]),s._v(" "),t("ul",[t("li",[s._v("第二种："),t("code",[s._v("docker exec")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it f5332ebce695 /bin/bash")]),s._v("\nError response from daemon: Container f5332ebce69520fba353f035ccddd4bd42055fbd1e595f916ba7233e26476464 is not running\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker restart f5332ebce695")]),s._v("\nf5332ebce695\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it f5332ebce695 /bin/bash")]),s._v("\nroot@f5332ebce695:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("注意：")]),s._v(" "),t("ul",[t("li",[s._v("我特意在容器停止状态下执行了"),t("code",[s._v("docker exec")]),s._v("，是让你看到"),t("code",[s._v("docker exec")]),s._v("是在容器启动状态下用的，且注意下错误信息；")]),s._v(" "),t("li",[s._v("推荐大家使用 "),t("code",[s._v("docker exec")]),s._v(" 命令，因为此退出容器终端，不会导致容器的停止。")])]),s._v(" "),t("h3",{attrs:{id:"容器导出和导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器导出和导入"}},[s._v("¶")]),s._v(" 容器导出和导入")]),s._v(" "),t("blockquote",[t("p",[s._v("在生产环境中，很多时候是无法连接外网的，所以有时候需要用到容器的导入和导出。")])]),s._v(" "),t("ul",[t("li",[s._v("容器的导出")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" minutes ago      Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker export f5332ebce695 > ubuntu-pdai-v2.tar")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ll")]),s._v("\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("93891072")]),s._v(" Feb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" 09:42 ubuntu-pdai-v2.tar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("同时你可以发现，导出容器的时候，容器无需关闭。")]),s._v(" "),t("ul",[t("li",[s._v("容器导入")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker import ubuntu-pdai-v2.tar pdai/ubuntu:v2.0.2")]),s._v("\nsha256:57544a04cd1ad330371ca9142184ff031dc2b6df70df177994477c08fe547b25\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.2              57544a04cd1a        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" seconds ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v(".5MB\npdai/ubuntu         v2.0.1              a733d5a264b5        About an hour ago   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v3.0.1              a733d5a264b5        About an hour ago   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" hours ago        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".1MB\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("注意看，SIZE可能是不一样的。")]),s._v(" "),t("h3",{attrs:{id:"强制停止容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强制停止容器"}},[s._v("¶")]),s._v(" 强制停止容器")]),s._v(" "),t("blockquote",[t("p",[s._v("能否强制删除一个正在运行的容器呢？")])]),s._v(" "),t("p",[s._v("显然，加上"),t("code",[s._v("-f")]),s._v("之后是允许的。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\nf5332ebce695        pdai/ubuntu:v2.0.1   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         About an hour ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" minutes       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp      jolly_kepler\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm -f f5332ebce695")]),s._v("\nf5332ebce695\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\n0a1556ca3c27        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         affectionate_knuth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"清理停止的容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清理停止的容器"}},[s._v("¶")]),s._v(" 清理停止的容器")]),s._v(" "),t("blockquote",[t("p",[s._v("我们看到上面还有好几个容器出于停止状态，能不能删除它们呢？")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS               NAMES\n0a1556ca3c27        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" hours ago                         stoic_hodgkin\n1a51d2f023c9        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                       gifted_brown\n414bf796cbe4        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         pedantic_galileo\n512061ebfa4c        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         wizardly_brown\naa5e9ae5e5db        ubuntu:latest       "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/echo \'Hello wo…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                         affectionate_knuth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("清理停止的容器: "),t("code",[s._v("docker container prune")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker container prune")]),s._v("\nWARNING"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" This will remove all stopped containers.\nAre you sure you want to continue? "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y/N"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\nDeleted Containers:\n0a1556ca3c275cc692ecd6d19caed4c5be42578f81b3dfea52b24208790d160a\n1a51d2f023c947f2be2d9a78eb863e854ca302c89bf354654c409e23e7dd25d7\n414bf796cbe403e01b5414f2b6232c6a037af78deee4581f4935c94859b5164e\n512061ebfa4c340eb03833e54d77052e33fb62cd42ab7dd7e09bf0b02a761552\naa5e9ae5e5db1760bdb8c7ddb92e4293cd7b4736be7e97314f3ef44a71bf8930\n\nTotal reclaimed space: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".93MB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"容器别名及操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器别名及操作"}},[s._v("¶")]),s._v(" 容器别名及操作")]),s._v(" "),t("blockquote",[t("p",[s._v("我们上述对容器的操作都是针对容器ID，这个ID是随机的，能否添加一个name对我们自己设置的name操作呢？")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -itd --name pdai-ubuntu-202 pdai/ubuntu:v2.0.2 /bin/bash")]),s._v("\n11de9755a08402d963d263a559a7daf48f4a2188398f258641240b5eb50fbc89\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE                COMMAND             CREATED             STATUS              PORTS               NAMES\n11de9755a084        pdai/ubuntu:v2.0.2   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" seconds ago       Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" seconds                            pdai-ubuntu-202\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker stop pdai-ubuntu-202")]),s._v("\npdai-ubuntu-202\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE                COMMAND              CREATED              STATUS                     PORTS               NAMES\n11de9755a084        pdai/ubuntu:v2.0.2   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" seconds ago       Exited "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" seconds ago                       pdai-ubuntu-202   \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"容器错误日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器错误日志"}},[s._v("¶")]),s._v(" 容器错误日志")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("例：实时查看docker容器名为user-uat的最后10行日志\ndocker logs -f -t --tail "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" user-uat\n\n例：查看指定时间后的日志，只显示最后100行：\ndocker logs -f -t --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-02-08"')]),s._v(" --tail"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" user-uat\n\n例：查看最近30分钟的日志:\ndocker logs --since 30m user-uat\n\n例：查看某时间之后的日志：\ndocker logs -t --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-02-08T13:23:37"')]),s._v(" user-uat\n\n例：查看某时间段日志：\ndocker logs -t --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-02-08T13:23:37"')]),s._v(" --until "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-02-09T12:23:37"')]),s._v(" user-uat\n\n例：将错误日志写入文件：\ndocker logs -f -t --since"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-02-18"')]),s._v(" user-uat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" error "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" logs_error.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"docker-仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-仓库"}},[s._v("¶")]),s._v(" Docker 仓库")]),s._v(" "),t("p",[s._v("仓库（Repository）是集中存放镜像的地方，它和我们的Maven仓库是一样的。以下介绍一下 Docker Hub。当然不止 docker hub，只是远程的服务商不一样，操作都是一样的。")]),s._v(" "),t("ul",[t("li",[s._v("可以采用共有的仓库，也可以自己搭建Docker Registry;")]),s._v(" "),t("li",[s._v("如果之前有自己的Artifactory或者Nexus，它们同样可以支持Docker Registry功能;")]),s._v(" "),t("li",[s._v("带界面的也可以使用Harbor等;")])]),s._v(" "),t("h3",{attrs:{id:"公有仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公有仓库"}},[s._v("¶")]),s._v(" 公有仓库")]),s._v(" "),t("blockquote",[t("p",[s._v("我们以官方的docker hub为例，进行注册和理解。很多人会说官方的速度极慢或者私有仓库上传慢，不试试你怎么知道呢？")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("注册官方docker hub")]),s._v("，最新的名字叫docker cloud")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://hub.docker.com/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("我注册的用户名是 realpdai")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("本地登录")]),s._v("刚才注册的账户")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker login")]),s._v("\nLogin with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" over to https://hub.docker.com to create one.\nUsername: realpdai\nPassword:\nWARNING"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Your password will be stored unencrypted "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /root/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#credentials-store")]),s._v("\n\nLogin Succeeded\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ul",[t("li",[t("strong",[s._v("镜像准备")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker tag pdai/ubuntu:v2.0.2 realpdai/ubuntu:v2.0.2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\npdai/ubuntu         v2.0.2              57544a04cd1a        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" hours ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v(".5MB\nrealpdai/ubuntu     v2.0.2              57544a04cd1a        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" hours ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v(".5MB\npdai/ubuntu         v2.0.1              a733d5a264b5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" hours ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v3.0.1              a733d5a264b5        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" hours ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".5MB\npdai/ubuntu         v1.0.1              b51e9f5f98cd        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" hours ago        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v(".1MB\nmysql               latest              791b6e40940c        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         465MB\nubuntu              latest              ccc6e87d482b        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("推送至Docker Hub服务器")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@pdai ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker push realpdai/ubuntu:v2.0.2")]),s._v("\nThe push refers to repository "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("docker.io/realpdai/ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n9a2c43cbe02a: Pushed\nv2.0.2: digest: sha256:4afd82dd05d0b4a340ae4f4129dcbd63136b5ec7ff92edf313108a41fb0947e0 size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("528")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("从推送的速度来看，大概是1.5MB/s。")]),s._v(" "),t("ul",[t("li",[s._v("服务器端查看")])]),s._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/devops/docker/docker-y-3.png",loading:"lazy"}})]),s._v(" "),t("h3",{attrs:{id:"私有仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#私有仓库"}},[s._v("¶")]),s._v(" 私有仓库")]),s._v(" "),t("p",[s._v("这里请参考后续的章节。")])])}),[],!1,null,null,null);a.default=e.exports}}]);