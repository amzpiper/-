(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{510:function(a,t,e){"use strict";e.r(t);var i=e(11),s=Object(i.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"开源-网络流量分析工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开源-网络流量分析工具"}},[a._v("¶")]),a._v(" 开源: 网络流量分析工具")]),a._v(" "),e("blockquote",[e("p",[a._v("运维人员去现场去帮助客户网络运维，在不摸清资产和网络通信关系时是不敢贸然动任何配置的，因为这个环境可能是工业生产环境或者正在跑的地铁环境，任何差错将带来巨大的损失。所以第一件事是需要分析\n现场的网络通信关系。@pdai")])]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%bc%80%e6%ba%90%e7%bd%91%e7%bb%9c%e6%b5%81%e9%87%8f%e5%88%86%e6%9e%90%e5%b7%a5%e5%85%b7"}},[a._v("开源: 网络流量分析工具")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af%e5%92%8c%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f"}},[a._v("适用场景和使用方式")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af"}},[a._v("适用场景")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f"}},[a._v("使用方式")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e5%ae%9e%e6%97%b6%e6%a8%a1%e5%bc%8f"}},[a._v("实时模式")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%ae%9e%e6%97%b6%e6%b5%81%e9%87%8f%e6%80%bb%e8%a7%88"}},[a._v("实时流量总览")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e5%86%85%e7%bd%91%e5%92%8c%e5%a4%96%e7%bd%91%e9%97%b4%e9%80%9a%e4%bf%a1"}},[a._v("内网和外网间通信")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e5%86%85%e7%bd%91%e4%b9%8b%e9%97%b4%e7%9a%84%e9%80%9a%e4%bf%a1"}},[a._v("内网之间的通信")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#ip%e5%92%8c%e7%ab%af%e5%8f%a3%e5%88%86%e6%9e%90"}},[a._v("IP和端口分析")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e6%a3%80%e7%b4%a2ip%e7%9b%b8%e5%85%b3%e6%b5%81%e9%87%8f%e5%8c%85"}},[a._v("检索IP相关流量包")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#ip%e4%b9%8b%e9%97%b4%e7%9a%84%e9%80%9a%e4%bf%a1%e5%85%b3%e7%b3%bb"}},[a._v("IP之间的通信关系")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#ip%e5%92%8c%e7%ab%af%e5%8f%a3%e9%97%b4%e9%80%9a%e4%bf%a1%e5%85%b3%e7%b3%bb"}},[a._v("IP和端口间通信关系")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e6%9c%8d%e5%8a%a1%e5%8f%91%e7%8e%b0"}},[a._v("服务发现")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e4%b8%bb%e5%8a%a8%e6%89%ab%e6%8f%8f%e7%ab%af%e5%8f%a3%e5%92%8c%e6%9c%8d%e5%8a%a1"}},[a._v("主动扫描端口和服务")])])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e7%a6%bb%e7%ba%bf%e6%a8%a1%e5%bc%8f"}},[a._v("离线模式")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e6%b5%81%e9%87%8f%e6%80%bb%e8%a7%88"}},[a._v("流量总览")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#ip%e9%80%9a%e4%bf%a1%e5%85%b3%e7%b3%bb%e5%8f%af%e6%a3%80%e7%b4%a2%e8%bf%9b%e4%b8%80%e6%ad%a5%e5%88%86%e6%9e%90"}},[a._v("IP通信关系(可检索进一步分析)")])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%e5%86%85%e7%bd%91%e9%80%9a%e4%bf%a1%e5%85%b3%e7%b3%bb"}},[a._v("内网通信关系")])])])])])])]),a._v(" "),e("p",[a._v("现场工程师还会遇到:")]),a._v(" "),e("ul",[e("li",[a._v("原有网络中，没有网络资产的统计关系表；")]),a._v(" "),e("li",[a._v("原有网络有相关的通信设计图，但是后续资产变更后，并没有更新原有通信图；(通信设计图和实际网络运行环境不一致)")]),a._v(" "),e("li",[a._v("有一些工具可以分析流量或者之间的关系，但是工具很重。")])]),a._v(" "),e("p",[a._v("这个系统主要帮助工程师分析 __网络通信关系 __的一个 __轻量级 __集成工具。")]),a._v(" "),e("h2",{attrs:{id:"适用场景和使用方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#适用场景和使用方式"}},[a._v("¶")]),a._v(" 适用场景和使用方式")]),a._v(" "),e("h3",{attrs:{id:"适用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#适用场景"}},[a._v("¶")]),a._v(" 适用场景")]),a._v(" "),e("ul",[e("li",[a._v("IT环境")]),a._v(" "),e("li",[a._v("工控环境")])]),a._v(" "),e("h3",{attrs:{id:"使用方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方式"}},[a._v("¶")]),a._v(" 使用方式")]),a._v(" "),e("ul",[e("li",[a._v("实时分析方式")]),a._v(" "),e("li",[a._v("离线流量包分析方式")])]),a._v(" "),e("h2",{attrs:{id:"实时模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实时模式"}},[a._v("¶")]),a._v(" 实时模式")]),a._v(" "),e("h3",{attrs:{id:"实时流量总览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实时流量总览"}},[a._v("¶")]),a._v(" 实时流量总览")]),a._v(" "),e("blockquote",[e("p",[a._v("离线模式以 实时分析单台IT环境流量包为例。")])]),a._v(" "),e("p",[a._v("选择 实时流量分析模式，选择指定网卡，系统将监听指定网卡上的流量。注意: 如果是监听整个IT环境流量，可以将流量打到某个网卡，同时监听该网卡。")]),a._v(" "),e("p",[a._v("可以看到下图实时的流量，网卡信息，IP排行等等。")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-1.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"内网和外网间通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内网和外网间通信"}},[a._v("¶")]),a._v(" 内网和外网间通信")]),a._v(" "),e("p",[a._v("通过指定关注的网段(通常是内网)，可以查看这些网段之间的关联关系:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-3.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"内网之间的通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内网之间的通信"}},[a._v("¶")]),a._v(" 内网之间的通信")]),a._v(" "),e("p",[a._v("通过指定关注的网段(通常是内网)，可以查看这些网段之间的关联关系:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-2.png",loading:"lazy"}})]),a._v(" "),e("h2",{attrs:{id:"ip和端口分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip和端口分析"}},[a._v("¶")]),a._v(" IP和端口分析")]),a._v(" "),e("h3",{attrs:{id:"检索ip相关流量包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检索ip相关流量包"}},[a._v("¶")]),a._v(" 检索IP相关流量包")]),a._v(" "),e("p",[a._v("可以检索IP:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-4.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"ip之间的通信关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip之间的通信关系"}},[a._v("¶")]),a._v(" IP之间的通信关系")]),a._v(" "),e("p",[a._v("IP通信全局图，圆圈大小表示流量大小:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-5.png",loading:"lazy"}})]),a._v(" "),e("p",[a._v("看指定IP和其它IP通信:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-6.png",loading:"lazy"}})]),a._v(" "),e("p",[a._v("看IP组之间关系:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-7.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"ip和端口间通信关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip和端口间通信关系"}},[a._v("¶")]),a._v(" IP和端口间通信关系")]),a._v(" "),e("p",[a._v("如上图IP之间的关系，发现某两个IP之间流量通信比较大，可以分析下这个IP通过什么端口和其它IP通信的。")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-8.png",loading:"lazy"}})]),a._v(" "),e("blockquote",[e("p",[a._v("还有其它模式不再一一介绍。")])]),a._v(" "),e("h2",{attrs:{id:"服务发现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务发现"}},[a._v("¶")]),a._v(" 服务发现")]),a._v(" "),e("blockquote",[e("p",[a._v("服务发现需要往监控环境中发送部分流量包。")])]),a._v(" "),e("h3",{attrs:{id:"主动扫描端口和服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主动扫描端口和服务"}},[a._v("¶")]),a._v(" 主动扫描端口和服务")]),a._v(" "),e("p",[a._v("点击服务发现:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-9.png",loading:"lazy"}})]),a._v(" "),e("p",[a._v("发现结果: 可以看到这些IP是使用的系统，通过什么端口开放了什么服务等:")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-10.png",loading:"lazy"}})]),a._v(" "),e("h2",{attrs:{id:"离线模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#离线模式"}},[a._v("¶")]),a._v(" 离线模式")]),a._v(" "),e("blockquote",[e("p",[a._v("本例子以 抓取某工控环境下流量包为例，通过分析离线流量包来进行分析。")])]),a._v(" "),e("h3",{attrs:{id:"流量总览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流量总览"}},[a._v("¶")]),a._v(" 流量总览")]),a._v(" "),e("p",[a._v("选择 离线模式，选择流量pcap包，可以看到流量发生时间段和流量图等等")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-11.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"ip通信关系可检索进一步分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip通信关系可检索进一步分析"}},[a._v("¶")]),a._v(" IP通信关系(可检索进一步分析)")]),a._v(" "),e("p",[a._v("可以看到通常工业环境下流量是比较单一的，相比IT环境会简单和稳定许多")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-12.png",loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"内网通信关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内网通信关系"}},[a._v("¶")]),a._v(" 内网通信关系")]),a._v(" "),e("p",[a._v("查看内网之间的通信关系")]),a._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/traffic/traffic-13.png",loading:"lazy"}})])])}),[],!1,null,null,null);t.default=s.exports}}]);