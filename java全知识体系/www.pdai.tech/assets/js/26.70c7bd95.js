(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{490:function(a,s,t){"use strict";t.r(s);var e=t(11),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"关于文档---文档的自动编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于文档---文档的自动编译"}},[a._v("¶")]),a._v(" 关于文档 - 文档的自动编译")]),a._v(" "),t("blockquote",[t("p",[a._v("文档托管在Github，有几种选择: Github自带的Github Actions，或者插件Travis CI， 或者插件Circle CI。@pdai")])]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#%e5%85%b3%e4%ba%8e%e6%96%87%e6%a1%a3---%e6%96%87%e6%a1%a3%e7%9a%84%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91"}},[a._v("关于文档 - 文档的自动编译")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#travis-ci"}},[a._v("Travis CI")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#github-%e5%90%af%e7%94%a8%e6%8f%92%e4%bb%b6"}},[a._v("Github 启用插件")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#%e9%85%8d%e7%bd%ae%e6%8f%92%e4%bb%b6"}},[a._v("配置插件")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#%e6%b7%bb%e5%8a%a0travisyml"}},[a._v("添加.travis.yml")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#%e8%a7%a6%e5%8f%91%e7%bc%96%e8%af%91"}},[a._v("触发编译")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#%e6%9f%a5%e7%9c%8b%e6%9c%80%e5%90%8e%e6%8f%90%e4%ba%a4%e7%bc%96%e8%af%91%e7%8a%b6%e5%86%b5"}},[a._v("查看最后提交编译状况")])]),a._v(" "),t("li",[t("a",{attrs:{href:"#%e7%94%9f%e6%88%90build-%e7%8a%b6%e6%80%81svg"}},[a._v("生成build 状态svg")])])])])])])]),a._v(" "),t("h2",{attrs:{id:"travis-ci"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#travis-ci"}},[a._v("¶")]),a._v(" Travis CI")]),a._v(" "),t("blockquote",[t("p",[a._v("注意: Travis CI有个坑爹的地方要注意: 它有travis.com和travis.org两个网站，一个是对公有项目，一个是对私有项目；然后，github是可以在公有和私有项目中切换的，于是在切换后，一些配置可能无法正确设置。")])]),a._v(" "),t("h3",{attrs:{id:"github-启用插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#github-启用插件"}},[a._v("¶")]),a._v(" Github 启用插件")]),a._v(" "),t("p",[a._v("进入 https://github.com/marketplace/travis-ci")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-1.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"配置插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置插件"}},[a._v("¶")]),a._v(" 配置插件")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-2.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"添加travisyml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加travisyml"}},[a._v("¶")]),a._v(" 添加.travis.yml")]),a._v(" "),t("blockquote",[t("p",[a._v("注意: 这里只是简单做编译操作，您可以将编译的结果(静态的html文件)强制推送至当前仓库专门放编译后文件的分支；也可以在自己的服务器上安装travis-cli，在travis.com(注意不是travis.org)生成证书信息(自动生成相关环境变量)，来进行自动化部署。")])]),a._v(" "),t("p",[a._v("这里上述两种方案都没有采用，是因为:")]),a._v(" "),t("ul",[t("li",[a._v("1)travis-cli对私有项目自动添加证书信息支持不够；")]),a._v(" "),t("li",[a._v("2)同时本文档中静态资源较多，拉取编译结果较大；")]),a._v(" "),t("li",[a._v("3)github 拉较大资源速度稳定性无法保障，原因你懂的；相对来说用webhook方式已经够了。")])]),a._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("language"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" node_js\n\nsudo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),a._v("\n\nnode_js"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  - "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"12"')]),a._v("\n\ncache"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  yarn"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n  directories"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n    - node_modules\n\nbranches"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  only"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n    - master\n\nenv"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  global"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n    - GITHUB_REPO"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" github.com/realpdai/tech-arch-doc.git\n\nbefore_install"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  - export TZ=Asia/Shanghai\n\nscript"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n  - vuepress build\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br")])]),t("h3",{attrs:{id:"触发编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#触发编译"}},[a._v("¶")]),a._v(" 触发编译")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-4.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"查看最后提交编译状况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看最后提交编译状况"}},[a._v("¶")]),a._v(" 查看最后提交编译状况")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-5.png",loading:"lazy"}})]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-6.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"生成build-状态svg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成build-状态svg"}},[a._v("¶")]),a._v(" 生成build 状态svg")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://pdai-1257820000.cos.ap-beijing.myqcloud.com/pdai.tech/public/_images/blog/blog-ci-3.png",loading:"lazy"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);